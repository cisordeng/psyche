<template>
  <div class="v-navs" @mouseenter="() => { hover = true; }" @mouseleave="() => { hover = false; }">
    <div class="v-i-navs" :class="!$route.meta.isNav ? 'v-i-show' : ''">
      <transition-group name="scale-in">
        <div
          v-for="nav in navs"
          :key="nav.name"
          class="v-i-nav"
          :class="nav.href == $route.path ? 'v-i-active' : ''"
          v-show="!$route.meta.isNav || hover || nav.href == $route.path"
        >
          <router-link :to="nav.href">
            <svg class="icon">
              <use :xlink:href="`#icon-${nav.name}`" />
            </svg>
            <div class="v-i-title">{{nav.title}}</div>
          </router-link>
        </div>
      </transition-group>
    </div>
    <svg
      style="display: none;"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <defs>
        <symbol id="icon-article" viewBox="0 0 1024 1024">
          <path
            d="M495.916654 608.9041830000001c48.815785-60.938911 227.753118-280.12502 294.67277-327.324388-85.508445 167.299132-253.77742700000002 339.285872-354.48019 503.35217000000006 186.049566 51.725335 270.426519-9.536859 373.068982-81.14412l-101.672612-16.002525c129.151697-34.75296 120.099763-21.821626 165.359432-73.223678 35.884451-40.733702 65.626519-95.691871 76.618153-153.236307l-84.05367 8.567009c26.832518-12.769692 86.478295-35.399526 96.015153-48.007577 25.377743-33.621468 91.974112-355.126756 92.782321-421.884767-256.848619 1.9397-667.256827 442.898185-696.998895 653.678927-29.742068 211.912234-323.283346 532.124388 138.688556-44.774744z"
          />
          <path d="M199.789108 984.8759796666667h855.246093v75.163378H199.789108z" />
        </symbol>
        <symbol id="icon-friends" viewBox="0 0 1024 1024">
          <path
            d="M512 402.432c53.6576 0 97.28 43.6224 97.28 97.28s-43.6224 97.28-97.28 97.28-97.28-43.6224-97.28-97.28 43.6224-97.28 97.28-97.28m0-61.44c-87.6544 0-158.72 71.0656-158.72 158.72s71.0656 158.72 158.72 158.72 158.72-71.0656 158.72-158.72-71.0656-158.72-158.72-158.72zM858.4192 876.7488c-7.68 0-15.36-2.8672-21.2992-8.6016-12.1856-11.776-12.5952-31.232-0.8192-43.4176C917.7088 740.352 962.56 629.248 962.56 512c0-123.0848-48.7424-238.08-137.216-323.7888-12.1856-11.776-12.4928-31.232-0.7168-43.4176 11.776-12.1856 31.232-12.4928 43.4176-0.7168 48.7424 47.2064 87.1424 102.6048 113.9712 164.6592 27.8528 64.3072 41.8816 132.608 41.8816 203.264 0 133.2224-50.8928 259.4816-143.4624 355.4304-5.9392 6.2464-13.9264 9.3184-22.016 9.3184zM165.5808 876.7488c-8.0896 0-16.0768-3.1744-22.1184-9.4208C50.8928 771.4816 0 645.2224 0 512c0-70.5536 14.1312-138.9568 41.8816-203.264 26.8288-62.0544 65.2288-117.4528 113.9712-164.6592 12.1856-11.776 31.6416-11.4688 43.4176 0.7168s11.4688 31.6416-0.7168 43.4176C110.1824 273.92 61.44 388.9152 61.44 512c0 117.248 44.8512 228.352 126.2592 312.7296 11.776 12.1856 11.4688 31.6416-0.8192 43.4176-5.9392 5.7344-13.6192 8.6016-21.2992 8.6016z"
          />
          <path
            d="M736.0512 755.3024c-7.8848 0-15.7696-2.9696-21.8112-9.0112-11.9808-11.9808-11.9808-31.4368 0.1024-43.4176C768.7168 648.704 798.72 576.512 798.72 499.712c0-76.5952-29.7984-148.5824-83.968-202.6496-11.9808-11.9808-11.9808-31.4368 0-43.4176s31.4368-11.9808 43.4176 0c31.9488 31.9488 57.0368 69.2224 74.5472 110.592C850.944 407.1424 860.16 452.7104 860.16 499.712c0 47.104-9.216 92.7744-27.5456 135.8848-17.6128 41.5744-42.8032 78.848-74.9568 110.7968-5.9392 5.9392-13.824 8.9088-21.6064 8.9088zM287.9488 755.3024c-7.8848 0-15.6672-2.9696-21.7088-8.9088-32.1536-31.9488-57.344-69.2224-74.9568-110.7968C173.056 592.4864 163.84 546.816 163.84 499.712c0-92.3648 35.84-179.4048 100.7616-244.9408 11.9808-12.0832 31.4368-12.1856 43.4176-0.2048 12.0832 11.9808 12.1856 31.4368 0.2048 43.4176-53.4528 54.0672-82.944 125.6448-82.944 201.728 0 76.8 30.0032 148.992 84.3776 203.1616 11.9808 11.9808 12.0832 31.4368 0.1024 43.4176-6.0416 6.0416-13.9264 9.0112-21.8112 9.0112z"
          />
        </symbol>
        <symbol id="icon-message" viewBox="0 0 1024 1024">
          <path
            d="M370.26304 785.02912H268.55424c-82.07872 0-148.61312-66.54976-148.61312-148.66432V250.6496c0-82.13504 66.58048-148.6592 148.8896-148.6592h486.33856c82.24256 0 148.89472 66.55488 148.89472 148.6592v385.7152c0 82.2016-66.4576 148.66432-148.85376 148.66432h-127.20128c-6.784 0-13.27104 2.7648-17.9712 7.66464l-133.38112 138.98752a24.9088 24.9088 0 0 0 35.9424 34.49856l133.38624-138.99264-17.9712 7.65952h127.19616c109.91616 0 198.67136-88.76544 198.67136-198.48192V250.6496c0-109.63456-88.97024-198.48192-198.71232-198.48192H268.83072c-109.81376 0-198.71232 88.81664-198.71232 198.48192v385.7152c0 109.62944 88.83712 198.48192 198.43584 198.48192h101.7088a24.91392 24.91392 0 0 0 0-49.8176z m-84.1216-409.0368h382.22336a24.9088 24.9088 0 1 0 0-49.8176H286.14144a24.9088 24.9088 0 1 0 0 49.8176z m0 155.68896h451.71712a24.9088 24.9088 0 1 0 0-49.8176H286.14144a24.9088 24.9088 0 1 0 0 49.8176z m0 0"
          />
        </symbol>
        <symbol id="icon-time" viewBox="0 0 1024 1024">
          <path
            d="M384 352c0-41.6-25.6-76.8-64-89.6V96c0-19.2-12.8-32-32-32s-32 12.8-32 32v166.4c-38.4 12.8-64 48-64 89.6s25.6 76.8 64 89.6v137.6c-38.4 12.8-64 48-64 89.6s25.6 76.8 64 89.6V928c0 19.2 12.8 32 32 32s32-12.8 32-32V761.6c38.4-12.8 64-48 64-89.6s-25.6-76.8-64-89.6V444.8c38.4-16 64-51.2 64-92.8z m-96 352c-19.2 0-32-12.8-32-32s12.8-32 32-32 32 12.8 32 32-12.8 32-32 32z m0-320c-19.2 0-32-12.8-32-32s12.8-32 32-32 32 12.8 32 32-12.8 32-32 32z m448 320H480c-16 0-32 12.8-32 32s12.8 32 32 32h256c16 0 32-12.8 32-32s-12.8-32-32-32z m64-448H480c-16 0-32 12.8-32 32s12.8 32 32 32h320c16 0 32-12.8 32-32s-12.8-32-32-32z m-64 192c16 0 32-12.8 32-32s-12.8-32-32-32H480c-16 0-32 12.8-32 32s12.8 32 32 32h256z m64 128H480c-16 0-32 12.8-32 32s12.8 32 32 32h320c16 0 32-12.8 32-32s-12.8-32-32-32z"
          />
        </symbol>
        <symbol id="icon-about" viewBox="0 0 1024 1024">
          <path
            d="M511.753253 1023.99852a507.311074 507.311074 0 0 1-290.174038-90.309268 24.674663 24.674663 0 1 1 28.129116-40.466447 458.455241 458.455241 0 0 0 262.044922 81.426388 462.89668 462.89668 0 1 0-382.457278-202.825731 24.674663 24.674663 0 0 1-6.908906 34.051036 24.18117 24.18117 0 0 1-34.051035-6.415413 511.752513 511.752513 0 1 1 423.417219 224.539435z"
          />
          <path
            d="M511.753253 279.81068m-57.738711 0a57.738712 57.738712 0 1 0 115.477423 0 57.738712 57.738712 0 1 0-115.477423 0Z"
          />
          <path
            d="M511.753253 842.886492a49.349326 49.349326 0 0 1-49.349326-49.349326v-330.640486a49.349326 49.349326 0 1 1 98.698653 0v330.640486a49.349326 49.349326 0 0 1-49.349327 49.349326z"
          />
        </symbol>
      </defs>
    </svg>
  </div>
</template>

<script>

export default {
  props: {},
  data() {
    return {
      hover: false,
      navs: [
        {
          name: "article",
          href: "/articles",
          title: "笔记"
        },
        {
          name: "friends",
          href: "/friends",
          title: "动态"
        },
        {
          name: "message",
          href: "/message",
          title: "留言"
        },
        {
          name: "time",
          href: "/time",
          title: "时间轴"
        },
        {
          name: "about",
          href: "/",
          title: "关于"
        }
      ]
    };
  },
  methods: {},
  mounted() {}
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style lang="scss" scoped>
.icon {
  display: inline-block;
  width: 1em;
  height: 1em;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
.v-navs {
  position: fixed;
  bottom: 150px;
  right: 30px;
  z-index: 999;
  .v-i-navs {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-direction: column;
    font-family: "Bitter", serif;
    text-align: center;
    background: #fff;
    box-shadow: 0px 5px 10px 0px rgba(76, 70, 124, 0.2);
    border-radius: 50px;
    height: 50px;
    overflow: hidden;
    transition: 0.3s all;
    &:hover,
    &.v-i-show {
      overflow: inherit;
      height: 280px;
      .v-i-nav {
        &.v-i-active {
          background: #dedede;
        }
      }
    }
    span {
      height: 280px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-direction: column;
    }
    .v-i-nav {
      width: 50px;
      transition: 0.3s;
      font-size: 12px;
      border-radius: 50px;
      color: #4b3f90;
      display: flex;
      align-items: center;
      justify-content: space-around;
      a {
        font-size: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50px;
        color: inherit;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        text-decoration: none;
        border: none;
        transform: scale(1);
        transition: 0.3s all;
        position: relative;
        &:hover {
          transform: scale(1.2);
          .v-i-title {
            transform: scale(0.8);
            opacity: 1;
          }
        }
        .v-i-title {
          position: absolute;
          width: 100%;
          text-align: right;
          left: -100%;
          font-size: 12px;
          white-space: nowrap;
          opacity: 0;
          transition: 0.3s all;
        }
      }
    }
  }
}

.scale-in-enter-active {
  transition: all 0.35s ease-in-out;
}

.scale-in-leave-active {
  transition: all 0.35s ease-in-out;
}

.scale-in-enter {
  transform: scale(1.2);
  pointer-events: none;
  opacity: 0;
}

.scale-in-leave-to {
  transform: scale(0.55);
  pointer-events: none;
  opacity: 0;
}
</style>
